~function(n){var t=0,e=1,i=2,o=function(n){if("function"!=typeof n)throw"Promise resolver undefined is not a function";var e=this,i=function(n){e.resolve(n)},o=function(n){e.reject(n)};e._status=t,e._onFulfilled=[],e._onRejected=[],n(i,o)},u=o.prototype;u.then=function(n,t){var e=this;return new o(function(i,u){e._onFulfilled.push(function(t){var e=n?n(t):t;o.isPromise(e)?e.then(function(n){i(n)}):i(e)}),e._onRejected.push(function(n){var e=t?t(n):n;u(e)})})},u.catch=function(n){return this.then(null,n)},u.resolve=function(n){if(this._status===t){this._status=e;for(var i=0,o=this._onFulfilled.length;o>i;i++)this._onFulfilled[i](n)}},u.reject=function(n){if(this._status===t){this._status=i;for(var e=0,o=this._onRejected.length;o>e;e++)this._onRejected[e](n)}},o.all=function(n){return o(function(t,e){for(var i=n.length,o=-1,u=0,r=[];++o<i;)~function(o){n[o].then(function(n){r[o]=n,++u===i&&t(r)},function(n){e(n)})}(o)})},o.race=function(n){return new o(function(t,e){for(var i=n.length,o=-1;++o<i;)n[o].then(function(n){t(n)},function(n){e(n)})})},o.resolve=function(n){return o.isPromise(n)?n:new o(function(n){setTimeout(function(){n()})})},o.reject=function(n){return o.isPromise(n)?n:new o(function(n,t){setTimeout(function(){t(ret)})})},o.isPromise=function(n){return n instanceof o},n.Promise=n.Promise||o;try{module.exports=o}catch(r){}}(this);