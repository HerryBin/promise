~function(t){var n=function(t){var n=this,e=function(t){n.resolve(t)},r=function(t){n.reject(t)};n._st="pending",n._rsq=null,n._rjq=null,"function"==typeof t&&t(e,r)},e=n.prototype;e.then=function(t,e){var r=new n;return this._rsq=function(e){var i=t?t(e):e;i instanceof n?i.then(function(t){r.resolve(t)}):r.resolve(i)},this._rjq=function(t){r.reject(e(t))},r},e.catch=function(t){return this.then(null,t)},e.resolve=function(t){("resolved"===this._st||"pending"===this._st)&&(this._st="resolved",this._rsq&&this._rsq(t))},e.reject=function(t){("rejected"===this._st||"pending"===this._st)&&(this._st="rejected",this._rsq&&this._rjq(t))},n.all=function(t){for(var e=new n,r=t.length,i=0,s=0;r>i;)t[i].then(function(){++s===r&&e.resolve()},function(t){e.reject(t)}),i++;return e},n.resolve=function(t){var e=new n;if(t&&"function"==typeof t.then){for(var r in e)t[r]=e[r];return t}return setTimeout(function(){e.resolve(t)}),e},t.Promise=n}(this);